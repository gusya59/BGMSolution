
<!-- Internal registration page component -->
<!-- 21/05/2018 David 16:32 -->

<div class="container blue lighten-5">
    <div class="row justify-content-center">
        <div class= "col-md-12">
            <h2 class="text-center">first steps to become a user</h2>
            <br>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class= "col-md-8">
          <form #signupForm = "ngForm">
    
                  <!-- First Name Block -->
                  <div class="form-group">
                    <label for="inputfirstname">First Name</label>
                    <input type="text"
                    [(ngModel)]="inputfirstname"
                      name="inputfirstname"
                      id="inputfirstname"
                      placeholder="Name"
                      class="form-control"
                      required>
                  </div>

                  <!-- last Name Block -->
                  <div class="form-group">
                      <label for="inputlastname">Last Name</label>
                      <input type="text"
                      [(ngModel)]="inputlastname"
                        name="inputlastname"
                        id="inputlastname"
                        placeholder="Last Name"
                        class="form-control"
                        required>
                  </div>

                  <!-- Email Block -->
                  <!-- inputEmail - > ngmodel  inputEmailset ->for check local variable-->
                  <div class="form-group">
                    <label for="inputEmail">Email</label>
                    <input type="text"
                    [(ngModel)]="inputEmail"
                    #inputEmailset="ngModel"
                      name="inputEmail"
                      id="inputEmail"
                      placeholder="Email"
                      class="form-control"
                      pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                      required>
                      
                  </div>
                  <!-- This is email error section -->
 
                   <div *ngIf="inputEmailset.invalid && (inputEmailset.dirty || inputEmailset.touched)"
                      class="alert alert-danger">
                      <div *ngIf = "inputEmailset.errors?.required">
                          Email field can't be blank
                      </div>
                      <div *ngIf = "inputEmailset.errors?.pattern && inputEmailset.touched">
                          The email id doesn't seem right
                      </div>
                  </div>

                  <!-- Password Block  -->
                  <!-- inputPassword - > ngmodel  inputPasswordset ->for check localvariable-->
                  <!-- confirmPassword - > ngmodel  confirmPasswordset ->for check localvariable-->
                  <div ngModelGroup="inputPassword" #userPassword="ngModelGroup" required >
                      <div class="form-group">
                        <label for="inputPassword">Password</label>
                        <input type="password"
                        [(ngModel)]="inputPassword"
                          #inputPasswordset="ngModel" 
                          name="inputPassword"
                          id="inputPassword" placeholder="Password"
                          class="form-control"
                          minlength ="8" required>
                      </div>
                   
                      <div class="form-group">
                        <label for="confirmPassword" >Confirm Password</label>
                        <input type="password"
                          [(ngModel)]="confirmPassword"
                          #confirmPasswordset="ngModel" 
                          name="confirmPwd"
                          class="form-control"
                          id="confirmPassword" placeholder="Confirm Password">
                      </div>
                       
                      <div *ngIf="(inputPasswordset.invalid|| inputPasswordset.value?.pwd != inputPasswordset.value?.confirmPasswordset) && (inputPasswordset.touched)"
                      class="alert alert-danger">
                       
                      <div *ngIf = "inputPasswordset.invalid; else nomatch">
                          Password needs to be more than 8 characters
                      </div>
                          <ng-template #nomatch >
                              Passwords don't match
                          </ng-template>
                      </div>
                  </div>
                   

                   
                  <!-- Terms and conditions Block -->
                   <div class="form-group checkbox">
                    <label>
                      <input type="checkbox" required> Confirm that you've read the Terms and 
                      Conditions
                    </label>
                  </div>
                  
                 <!-- Buttons Block -->
                  <div class="form-group">
                      <button type="reset" class="btn btn-outline-default btn-lg" routerLink="" routerLinkActive="active">Cancel</button>
                      <button (click)="addUser(inputfirstname,inputlastname,inputEmail,inputPassword,confirmPassword)" type="submit" class="btn btn-outline-success btn-lg"  [disabled]="!signupForm.form.valid">Next</button>
                  </div>
                  
          </form>
          <!-- Check data -->
          <!-- {{signupForm.value | json }} -->
        </div>
      </div>
</div>
